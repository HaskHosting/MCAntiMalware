package optic_fusion1.mcantimalware.metrics.metric;

import java.lang.management.ManagementFactory;
import java.lang.management.OperatingSystemMXBean;
import java.lang.management.RuntimeMXBean;
import optic_fusion1.mcantimalware.Main;
import optic_fusion1.mcantimalware.metrics.measurement.JVMMeasurement;

public class JVMMetric implements Metric<JVMMeasurement> {

  @Override
  public JVMMeasurement getMeasurement(Main main) {
    Runtime runtime = Runtime.getRuntime();
    RuntimeMXBean runtimeMXBean = ManagementFactory.getRuntimeMXBean();
    OperatingSystemMXBean osMXBean = ManagementFactory.getOperatingSystemMXBean();
    return new JVMMeasurement(osMXBean.getSystemLoadAverage(), runtime.availableProcessors(),
            Thread.activeCount(), runtimeMXBean.getUptime());
  }

}
