package optic_fusion1.mcantimalware.utils.usbdetector.unmounters;

import java.io.IOException;
import static optic_fusion1.mcantimalware.Main.LOGGER;
import optic_fusion1.mcantimalware.utils.usbdetector.process.CommandExecutor;

public abstract class LinuxAndOSXStorageDeviceUnmounterBase extends AbstractStorageDeviceUnmounter {

  protected void unmount(String unmoundCommand) {
    try (CommandExecutor commandExecutor = new CommandExecutor(unmoundCommand)) {
      Thread.sleep(1000L);
//      commandExecutor.processOutput(log::trace);
      //TODO: Give this a translatable message
      LOGGER.debug("Device successfully unmounted: " + unmoundCommand);
    } catch (IOException | InterruptedException e) {
      //TODO: Give this a translatable message
      LOGGER.info("Unable to unmount device: " + unmoundCommand);
      LOGGER.exception(e);
    }
  }
}
